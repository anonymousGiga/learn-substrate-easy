# 在pallet中添加rpc接口

# 1 pallet中的实现
## 1.1 pallet的内容
在实现rpc之前，我们先实现一个简单的pallet，名字叫做use-rpc，use-rpc/src/lib.rs中的代码如下：
```
#![cfg_attr(not(feature = "std"), no_std)]

pub use pallet::*;
#[frame_support::pallet]
pub mod pallet {
	use frame_support::pallet_prelude::*;
	use frame_system::pallet_prelude::*;

	#[pallet::pallet]
	#[pallet::generate_store(pub(super) trait Store)]
	pub struct Pallet<T>(_);

	#[pallet::config]
	pub trait Config: frame_system::Config {}

	#[pallet::storage]
	#[pallet::getter(fn my_class)]
	pub type Class<T: Config> = StorageValue<_, u32>;

	#[pallet::call]
	impl<T: Config> Pallet<T> {
		#[pallet::weight(0)]
		pub fn set_class_info(origin: OriginFor<T>, class: u32) -> DispatchResultWithPostInfo {
			ensure_signed(origin)?;
			Class::<T>::put(class);
			let _c = Self::my_class();
			Self::deposit_event(Event::SetClass(class));
			Ok(().into())
		}
	}
}

```
## 1.2 定义rpc接口
接下来，我们在use-rpc下创建一个rpc的包，其


# 2 node中添加对应rpc

# 3 测试

# 4 参考文档

https://docs.substrate.io/v3/runtime/custom-rpcs/

# 5 完整源码地址

https://github.com/anonymousGiga/learn-substrate-easy-source/tree/main/substrate-node-template/pallets/use-rpc

